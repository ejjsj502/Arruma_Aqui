{% extends 'base.html' %}
{% load widget_tweaks %}

{% block extra_css %}
<style>
.register-hero{position:relative;padding:64px 0 96px;background:radial-gradient(circle at 5% 10%,rgba(0,166,153,.12),transparent 55%),linear-gradient(135deg,#f7fbff,#f3f5ff);}
.register-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:32px;background:#fff;border-radius:32px;padding:48px;box-shadow:0 30px 70px rgba(12,18,38,.12);}
.register-panel{border-radius:24px;padding:32px;background:rgba(255,255,255,.95);border:1px solid rgba(0,0,0,.05);}
.register-panel--highlight{background:linear-gradient(135deg,rgba(0,166,153,.18),rgba(26,26,26,.05));border-color:rgba(0,166,153,.25);}
.register-pill{display:inline-flex;align-items:center;gap:8px;padding:6px 16px;border-radius:999px;font-size:.9rem;font-weight:600;color:var(--accent-color);background:rgba(0,166,153,.18);margin-bottom:16px;}
.register-panel h1{font-size:2.3rem;margin-bottom:18px;}
.register-lead{color:var(--text-light);font-size:1.05rem;margin-bottom:24px;}
.register-cards{display:grid;gap:14px;margin-bottom:28px;}
.register-card{display:flex;gap:14px;padding:16px;border-radius:20px;background:rgba(255,255,255,.96);border:1px solid rgba(0,0,0,.04);}
.register-card__icon{width:46px;height:46px;border-radius:16px;background:rgba(0,166,153,.12);color:var(--accent-color);display:flex;align-items:center;justify-content:center;font-size:1.1rem;}
.register-carousel{display:flex;gap:16px;flex-wrap:wrap;margin-bottom:18px;}
.register-carousel span{padding:8px 18px;border-radius:14px;background:rgba(0,0,0,.04);font-weight:600;color:var(--text-light);}
.register-steps{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:20px;}
.register-step{flex:1 1 150px;padding:12px;border-radius:16px;border:1px solid rgba(0,0,0,.05);background:rgba(0,0,0,.02);}
.register-step span{display:block;font-weight:700;color:var(--accent-color);}
.form-wrapper{background:#fff;border-radius:24px;border:1px solid var(--border-color);padding:32px;}
.form-header{margin-bottom:24px;}
.form-header p{margin:0;color:var(--text-light);}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;}
.form-field label{font-weight:600;font-size:.95rem;margin-bottom:6px;color:var(--text-color);}
.form-field label span{color:var(--accent-color);}
.input-field{border:1px solid var(--border-color);border-radius:12px;padding:14px 16px;font-size:1rem;background:#fff;transition:var(--transition);}
.input-field:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(0,166,153,.18);}
.field-error{color:var(--error-color);font-size:.85rem;margin-top:4px;display:block;}
.form-alert{padding:12px 16px;border-radius:14px;margin-bottom:18px;font-size:.9rem;background:rgba(193,53,21,.08);border:1px solid rgba(193,53,21,.3);color:var(--error-color);}
.form-footer{margin-top:24px;display:flex;flex-direction:column;gap:10px;}
.button.large{width:100%;padding:16px 0;font-size:1rem;border-radius:14px;}
.register-safe{display:flex;align-items:center;gap:8px;font-size:.9rem;color:var(--text-light);}
.register-safe i{color:var(--accent-color);}
@media(max-width:640px){
  .register-grid{padding:32px;}
  .form-wrapper{padding:24px;}
}
</style>
{% endblock %}

{% block content %}
<section class="register-hero">
    <div class="register-grid">
        <div class="register-panel register-panel--highlight">
            <p class="register-pill"><i class="fa-solid fa-user-plus"></i> Cadastro de clientes</p>
            <h1>Encontre empresas confiáveis e acompanhe seus pedidos em um único lugar</h1>
            <p class="register-lead">
                Crie alertas para serviços, compare propostas e converse direto com profissionais com avaliações reais.
            </p>

            <div class="register-cards">
                <div class="register-card">
                    <div class="register-card__icon"><i class="fa-solid fa-magnifying-glass-location"></i></div>
                    <div>
                        <strong>Busca inteligente</strong>
                        <p>Filtre por localização, avaliações e disponibilidade.</p>
                    </div>
                </div>
                <div class="register-card">
                    <div class="register-card__icon"><i class="fa-solid fa-bell"></i></div>
                    <div>
                        <strong>Alertas automáticos</strong>
                        <p>Receba notificações quando um orçamento for respondido.</p>
                    </div>
                </div>
                <div class="register-card">
                    <div class="register-card__icon"><i class="fa-solid fa-star"></i></div>
                    <div>
                        <strong>Avaliações reais</strong>
                        <p>Veja experiências de outros clientes antes de fechar.</p>
                    </div>
                </div>
            </div>

            <div class="register-carousel">
                <span>Reformas</span>
                <span>Elétrica</span>
                <span>Limpeza</span>
                <span>Manutenção</span>
                <span>Eventos</span>
            </div>
        </div>

        <div class="register-panel">
            <div class="register-steps">
                <div class="register-step">
                    <span>01</span>
                    Dados pessoais
                </div>
                <div class="register-step">
                    <span>02</span>
                    Informações de contato
                </div>
                <div class="register-step">
                    <span>03</span>
                    Preferências de serviço
                </div>
            </div>

            <div class="form-wrapper">
                <div class="form-header">
                    <h2>Complete seu cadastro</h2>
                    <p>Campos com * são obrigatórios para garantir a segurança.</p>
                </div>

                <form action="{% url 'client_register' %}" method="POST" novalidate>
                    {% csrf_token %}

                    {% if form.non_field_errors %}
                    <div class="form-alert">
                        {% for error in form.non_field_errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}

                    <div class="form-grid">
                        {% for field in form.visible_fields %}
                        <div class="form-field">
                            <label for="{{ field.id_for_label }}">
                                {{ field.label }}
                                {% if field.field.required %}<span>*</span>{% endif %}
                            </label>
                            {% render_field field class+="input-field" placeholder=field.help_text|default:field.label %}
                            {% if field.errors %}
                                {% for error in field.errors %}
                                    <span class="field-error">{{ error }}</span>
                                {% endfor %}
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>

                    <div class="form-footer">
                        <p class="register-safe"><i class="fa-solid fa-lock"></i> Seus dados só serão compartilhados com empresas que você solicitar.</p>
                        <button type="submit" class="button primary large">Criar conta de cliente</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock content %}