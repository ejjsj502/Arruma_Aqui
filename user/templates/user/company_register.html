{% extends 'base.html' %}
{% load widget_tweaks %}

{% block extra_css %}
<style>
.register-hero{position:relative;padding:64px 0 96px;background:radial-gradient(circle at 10% 20%,rgba(1,171,1,.08),transparent 55%),linear-gradient(135deg,#f8fbf7,#f2f9f1);}
.register-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:32px;background:#fff;border-radius:32px;padding:48px;box-shadow:0 30px 70px rgba(12,18,38,.12);}
.register-panel{border-radius:24px;padding:32px;background:rgba(255,255,255,.95);border:1px solid rgba(0,0,0,.05);}
.register-panel--highlight{background:linear-gradient(135deg,rgba(1,171,1,.16),rgba(0,166,153,.08));border-color:rgba(1,171,1,.25);}
.register-panel h1{font-size:2.2rem;margin-bottom:16px;}
.register-pill{display:inline-flex;align-items:center;gap:8px;padding:6px 16px;border-radius:999px;font-size:.9rem;font-weight:600;color:var(--secondary-color);background:rgba(1,171,1,.15);margin-bottom:16px;}
.register-lead{color:var(--text-light);font-size:1.05rem;margin-bottom:24px;}
.register-benefits{display:grid;gap:12px;margin-bottom:28px;}
.register-benefit{display:flex;gap:12px;padding:14px;border-radius:18px;background:rgba(255,255,255,.95);border:1px solid rgba(0,0,0,.05);}
.register-benefit__icon{width:46px;height:46px;border-radius:16px;background:rgba(1,171,1,.12);color:var(--secondary-color);display:flex;align-items:center;justify-content:center;font-size:1.2rem;}
.register-metrics{display:flex;gap:24px;flex-wrap:wrap;margin-bottom:18px;}
.register-metrics div{min-width:120px;}
.register-metrics strong{display:block;font-size:1.6rem;}
.register-steps{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:20px;}
.register-step{flex:1 1 140px;padding:12px 14px;border-radius:16px;border:1px solid rgba(0,0,0,.05);background:rgba(0,0,0,.02);}
.register-step span{display:block;font-weight:700;color:var(--secondary-color);}
.form-wrapper{background:#fff;border-radius:24px;border:1px solid var(--border-color);padding:32px;}
.form-header{margin-bottom:24px;}
.form-header p{margin:0;color:var(--text-light);}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;}
.form-field label{font-weight:600;font-size:.95rem;display:block;margin-bottom:6px;color:var(--text-color);}
.form-field label span{color:var(--secondary-color);}
.input-field{border:1px solid var(--border-color);border-radius:12px;padding:14px 16px;font-size:1rem;background:#fff;transition:var(--transition);}
.input-field:focus{border-color:var(--secondary-color);box-shadow:0 0 0 3px rgba(1,171,1,.18);}
.field-error{color:var(--error-color);font-size:.85rem;margin-top:4px;display:block;}
.form-alert{padding:12px 16px;border-radius:14px;margin-bottom:18px;font-size:.9rem;background:rgba(193,53,21,.08);border:1px solid rgba(193,53,21,.3);color:var(--error-color);}
.form-footer{display:flex;flex-direction:column;gap:8px;margin-top:24px;}
.badge-info{display:inline-flex;align-items:center;gap:8px;font-size:.9rem;color:var(--text-light);}
.badge-info i{color:var(--secondary-color);}
.button.large{width:100%;padding:16px 0;font-size:1rem;border-radius:14px;}
@media(max-width:640px){
  .register-grid{padding:32px;}
  .form-wrapper{padding:24px;}
}
</style>
{% endblock %}

{% block content %}
<section class="register-hero">
    <div class="register-grid">
        <div class="register-panel register-panel--highlight">
            <p class="register-pill"><i class="fa-solid fa-building"></i> Cadastro de empresas</p>
            <h1>Receba pedidos qualificados e construa reputação no Arruma Aqui</h1>
            <p class="register-lead">
                Complete seu perfil profissional e comece a responder orçamentos em minutos. Quanto mais completo, mais destaque você ganha nas buscas.
            </p>

            <div class="register-benefits">
                <div class="register-benefit">
                    <div class="register-benefit__icon"><i class="fa-solid fa-rocket"></i></div>
                    <div>
                        <strong>Visibilidade premium</strong>
                        <p>Mostre fotos, certificações e áreas de atendimento para aparecer no topo.</p>
                    </div>
                </div>
                <div class="register-benefit">
                    <div class="register-benefit__icon"><i class="fa-solid fa-chart-line"></i></div>
                    <div>
                        <strong>Painel inteligente</strong>
                        <p>Acompanhe métricas, histórico de pedidos e reputação em tempo real.</p>
                    </div>
                </div>
                <div class="register-benefit">
                    <div class="register-benefit__icon"><i class="fa-solid fa-handshake"></i></div>
                    <div>
                        <strong>Clientes verificados</strong>
                        <p>Receba apenas solicitações com endereço e necessidade confirmados.</p>
                    </div>
                </div>
            </div>

            <div class="register-metrics">
                <div>
                    <strong>+1.2k</strong>
                    <span>empresas ativas</span>
                </div>
                <div>
                    <strong>8.5k</strong>
                    <span>pedidos mês</span>
                </div>
                <div>
                    <strong>97%</strong>
                    <span>satisfação média</span>
                </div>
            </div>
        </div>

        <div class="register-panel">
            <div class="register-steps">
                <div class="register-step">
                    <span>01</span>
                    Dados da empresa
                </div>
                <div class="register-step">
                    <span>02</span>
                    Contato responsável
                </div>
                <div class="register-step">
                    <span>03</span>
                    Especialidades e área
                </div>
            </div>

            <div class="form-wrapper">
                <div class="form-header">
                    <h2>Informe seus dados</h2>
                    <p>Campos marcados com * são obrigatórios</p>
                </div>

                <form action="{% url 'company_register' %}" method="POST" novalidate>
                    {% csrf_token %}

                    {% if form.non_field_errors %}
                    <div class="form-alert">
                        {% for error in form.non_field_errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}

                    <div class="form-grid">
                        {% for field in form.visible_fields %}
                        <div class="form-field">
                            <label for="{{ field.id_for_label }}">
                                {{ field.label }}
                                {% if field.field.required %}<span>*</span>{% endif %}
                            </label>
                            {% render_field field class+="input-field" placeholder=field.help_text|default:field.label %}
                            {% if field.errors %}
                                {% for error in field.errors %}
                                    <span class="field-error">{{ error }}</span>
                                {% endfor %}
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>

                    <div class="form-footer">
                        <p class="badge-info"><i class="fa-solid fa-shield-check"></i> Seus dados são protegidos e só usados para prospecção no Arruma Aqui.</p>
                        <button type="submit" class="button primary large">Criar conta de empresa</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock content %}